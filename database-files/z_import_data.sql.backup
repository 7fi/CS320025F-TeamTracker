-- Import CSV data into TeamTracker database
-- This file runs after teamtracker_db.sql (alphabetically)

USE teamTracker;

-- Import Teams
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Teams.csv'
INTO TABLE Team
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(teamID, teamName, teamColor);

-- Import Players
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Players.csv'
INTO TABLE Players
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(playerID, name, position, gradYear, phoneNumber, jerseyNumber, teamID);

-- Import Coaches
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Coach.csv'
INTO TABLE Coach
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(coachID, name, email, phoneNumber, teamID);

-- Import Analysts
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Analyst.csv'
INTO TABLE Analyst
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(analystID, name, email, phoneNumber, teamID);

-- Import Admins
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Admin.csv'
INTO TABLE Admin
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(adminID, name, email, phoneNumber, teamID);

-- Import Events
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Event.csv'
INTO TABLE Event
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(eventID, location, dateTime, teamID);

-- Import Strategy
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Strategy.csv'
INTO TABLE Strategy
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(strategyID, formation, coachID);

-- Import Injuries
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Injury.csv'
INTO TABLE Injury
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(injuryID, injuryType, injuryDate, recoveryDate, gender, playerID);

-- Import PlayerEvents
LOAD DATA INFILE '/docker-entrypoint-initdb.d/PlayerEvent.csv'
INTO TABLE PlayerEvent
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(eventID, playerID);

-- Import StatEvents
LOAD DATA INFILE '/docker-entrypoint-initdb.d/StatEvent.csv'
INTO TABLE StatEvent
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(statID, dateTime, statType, eventID, playerID);

-- Import StrategyEvents
LOAD DATA INFILE '/docker-entrypoint-initdb.d/StrategyEvent.csv'
INTO TABLE StrategyEvent
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(strategyID, eventID, result);

-- Import Comments
LOAD DATA INFILE '/docker-entrypoint-initdb.d/Comment.csv'
INTO TABLE Comment
FIELDS TERMINATED BY ','
ENCLOSED BY '"'
LINES TERMINATED BY '\n'
IGNORE 1 ROWS
(commentID, text, dateTime, commenterID, targetID);
